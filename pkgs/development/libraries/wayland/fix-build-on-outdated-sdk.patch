diff --git a/src/connection.c b/src/connection.c
index ceaeac1..2e45fe2 100644
--- a/src/connection.c
+++ b/src/connection.c
@@ -44,6 +44,10 @@
 #include "wayland-private.h"
 #include "wayland-os.h"
 
+#ifndef MSG_NOSIGNAL
+#define MSG_NOSIGNAL 0
+#endif
+
 static inline uint32_t
 div_roundup(uint32_t n, size_t a)
 {
